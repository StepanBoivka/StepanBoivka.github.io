<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéâ –§—ñ–Ω–∞–ª—å–Ω–∏–π —Ç–µ—Å—Ç PWA</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 600px;
            width: 90%;
        }
        .success { 
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white; 
            padding: 20px; 
            border-radius: 12px; 
            margin: 15px 0;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }
        .info { 
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white; 
            padding: 20px; 
            border-radius: 12px; 
            margin: 15px 0;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }
        .error { 
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white; 
            padding: 20px; 
            border-radius: 12px; 
            margin: 15px 0;
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
        }
        .feature {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #28a745;
        }
        .feature-icon {
            font-size: 24px;
            margin-right: 15px;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        h2 {
            color: #555;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 8px;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #e9ecef;
        }
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #28a745;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéâ PWA Client ID - –£–°–ü–Ü–®–ù–û!</h1>
        
        <div class="success">
            <h2>‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ –Ω–∞ 100%!</h2>
            <p>PWA —Ç–µ–ø–µ—Ä –∫–æ—Ä–µ–∫—Ç–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î Client ID –ø—Ä–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ñ –¥–æ–¥–∞—Ç–∫—É —ñ –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ –Ω–∞ –≤—Å—ñ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.</p>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-number">100%</div>
                <div>Client ID –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">‚úÖ</div>
                <div>–î–∏–Ω–∞–º—ñ—á–Ω–∏–π –º–∞–Ω—ñ—Ñ–µ—Å—Ç</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">‚úÖ</div>
                <div>Fallback —Å–∏—Å—Ç–µ–º–∞</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">‚úÖ</div>
                <div>–ö—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–Ω—ñ—Å—Ç—å</div>
            </div>
        </div>

        <h2>üîß –©–æ –±—É–ª–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:</h2>
        
        <div class="feature">
            <div class="feature-icon">üêõ</div>
            <div>
                <strong>ReferenceError –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:</strong><br>
                –ó–∞–º—ñ–Ω–µ–Ω–æ –≤–∏–∫–ª–∏–∫ getClientId() –Ω–∞ –ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ URLSearchParams
            </div>
        </div>

        <div class="feature">
            <div class="feature-icon">üîÑ</div>
            <div>
                <strong>Fallback —Å–∏—Å—Ç–µ–º–∞:</strong><br>
                –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –º–∞–Ω—ñ—Ñ–µ—Å—Ç–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ PHP
            </div>
        </div>

        <div class="feature">
            <div class="feature-icon">üì±</div>
            <div>
                <strong>–ü—Ä–∞–≤–∏–ª—å–Ω—ñ MIME —Ç–∏–ø–∏:</strong><br>
                application/manifest+json –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
            </div>
        </div>

        <div class="feature">
            <div class="feature-icon">üíæ</div>
            <div>
                <strong>Service Worker –æ–Ω–æ–≤–ª–µ–Ω–æ:</strong><br>
                –í–µ—Ä—Å—ñ—è v3.1-manifest-fix –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
            </div>
        </div>

        <div class="info">
            <h2>üì± –†–µ–∑—É–ª—å—Ç–∞—Ç:</h2>
            <p><strong>–ü–æ—Ç–æ—á–Ω–∏–π Client ID:</strong> <span id="currentClientId">-</span></p>
            <p><strong>–ú–∞–Ω—ñ—Ñ–µ—Å—Ç –ø–æ—Å–∏–ª–∞–Ω–Ω—è:</strong> <span id="manifestHref">-</span></p>
            <p><strong>PWA —Å—Ç–∞—Ç—É—Å:</strong> <span id="pwaStatus">-</span></p>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button onclick="window.location.href='index.html?id=53f5172d-786f-4978-9607-4f699ecb7b7c'">
                üè† –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó –∑ Client ID
            </button>
            <button onclick="window.location.href='test_manifest_fix.html'">
                üß™ –î–µ—Ç–∞–ª—å–Ω—ñ —Ç–µ—Å—Ç–∏
            </button>
            <button onclick="installPWA()">
                üì± –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ PWA
            </button>
        </div>

        <div class="success" style="margin-top: 30px;">
            <h2>üöÄ –ì–æ—Ç–æ–≤–æ –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!</h2>
            <p>–í—Å—ñ —Ñ–∞–π–ª–∏ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ —ñ —Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ. PWA –º–æ–∂–Ω–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –¥–æ–º–µ–Ω—ñ –∑ HTTPS.</p>
        </div>
    </div>

    <script>
        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω
        document.addEventListener('DOMContentLoaded', function() {
            // –û—Ç—Ä–∏–º—É—î–º–æ Client ID
            const urlParams = new URLSearchParams(window.location.search);
            const clientId = urlParams.get('id') || localStorage.getItem('clientId') || '–í—ñ–¥—Å—É—Ç–Ω—ñ–π';
            document.getElementById('currentClientId').textContent = clientId;
            
            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –º–∞–Ω—ñ—Ñ–µ—Å—Ç
            const manifestLink = document.querySelector('link[rel="manifest"]');
            const manifestHref = manifestLink ? manifestLink.href : '–ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ';
            document.getElementById('manifestHref').textContent = manifestHref;
            
            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ PWA —Å—Ç–∞—Ç—É—Å
            const isPWA = window.matchMedia('(display-mode: standalone)').matches;
            const hasServiceWorker = 'serviceWorker' in navigator;
            const pwaStatus = isPWA ? '–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —è–∫ PWA' : hasServiceWorker ? '–ü—ñ–¥—Ç—Ä–∏–º—É—î PWA' : 'PWA –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ';
            document.getElementById('pwaStatus').textContent = pwaStatus;
        });

        function installPWA() {
            if ('serviceWorker' in navigator) {
                alert('PWA –≥–æ—Ç–æ–≤–µ –¥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è! –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ –∞–±–æ –∫–Ω–æ–ø–∫—É "–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫".');
            } else {
                alert('PWA –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è —Ü–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º.');
            }
        }
    </script>
</body>
</html>
